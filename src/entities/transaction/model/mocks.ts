import type { Transaction } from './types'

const now = new Date()
const iso = (d: Date) => d.toISOString()
const daysAgo = (n: number) => new Date(now.getTime() - n * 24 * 60 * 60 * 1000)

const BUDGET_ID = 'b-mock-1'
const ACCOUNT_ID = 'a-mock-1'
const USER_ID = 'u-mock-1'
const CATEGORY_IDS = ['c-food', 'c-transport', 'c-shopping', 'c-health', 'c-salary', 'c-freelance']

const amounts = [
    '150.00',
    '89.50',
    '1200.00',
    '45.00',
    '320.00',
    '67.30',
    '2500.00',
    '15.99',
    '890.00',
    '42.00',
    '199.00',
    '55.00',
    '1800.00',
    '33.50',
    '410.00',
    '72.00',
    '3500.00',
    '28.00',
    '156.00',
    '95.00',
    '210.00',
    '380.00',
    '22.00',
    '1100.00',
    '64.00',
    '275.00',
    '19.99',
    '440.00',
    '135.00',
    '520.00',
    '78.00',
    '1680.00',
    '31.00',
    '99.00',
    '290.00',
    '205.00',
    '11.50',
    '760.00',
    '48.00',
    '330.00',
    '62.00',
    '145.00',
    '1850.00',
    '37.00',
    '215.00',
    '88.00',
    '420.00',
    '54.00',
    '910.00',
    '126.00'
]

const types: Transaction['type'][] = [
    'expense',
    'expense',
    'income',
    'expense',
    'expense',
    'expense',
    'income',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'income',
    'expense',
    'expense',
    'expense',
    'income',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'income',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'income',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'income',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense',
    'expense'
]

export const mockTransactions: Transaction[] = Array.from({ length: 50 }, (_, i) => {
    const occurredAt = daysAgo(i % 90)
    return {
        id: `tx-mock-${i + 1}`,
        type: types[i],
        amount: amounts[i],
        occurredAt: iso(occurredAt),
        transferGroupId: null,
        createdById: USER_ID,
        updatedById: i % 5 === 0 ? USER_ID : null,
        budgetId: BUDGET_ID,
        accountId: ACCOUNT_ID,
        categoryId: CATEGORY_IDS[i % CATEGORY_IDS.length],
        createdAt: iso(daysAgo(i + 1)),
        updatedAt: iso(occurredAt)
    }
})
